

<!-- Modal dialogs for manipulating paths -->

<div id="project-delete-path-dialog" class="modal hide" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-header">
      <button type="button" class="close btn-close">
	<font size=+3>×</font>
      </button>
      <h4>Delete <span class="project-delete-path-dialog-filename">filename</span>?</h4>
    </div>
    <div class="modal-body">
      <form>
	<div class="center">
	  <input type="text" style="width:80%" placeholder="Why?  (optional)">
	</div>
      </form>
    </div>
    <div class="modal-footer">
      <button class="btn btn-close">Cancel</button>
      <button class="btn btn-danger btn-submit">Delete</button>
    </div>
</div>

<div id="project-move-path-dialog" class="modal hide" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-header">
      <button type="button" class="close" aria-hidden="true">
	<font size=+3>×</font>
      </button>
      <h4>Move <span contenteditable="true" class="project-move-path-dialog-filename">filename</span></h4>
    </div>
    <!-- TODO: clicking on path below could give a path browser... -->
    <h5 style="margin-left:2ex">New path or filename:</h5>
      <div class="center">
	<form>
	  <input type="text" style="width:80%" name="new-filename" value="">
	</form>
      </div>
      <div class="center">
	<form>
	  <input type="text" style="width:80%" name="why" placeholder="Why? (optional)">
	</form>
      </div>
      <div class="modal-footer">
      <button class="btn btn-close">Cancel</button>
      <button class="btn btn-warning btn-submit">Move</button>
    </div>
</div>


<!-- The actual project file browser, etc., interface -->

<span id="salvus-project-templates" class="hide">

  <div class="container salvus-project">
    <div class="row">
      <div class="well span12">
	<div class="span12">
	  <div class="pull-right project-id"></div>

	  <!-- Title of the project (editable) -->
	  <h4>
	    <span class="project-public"><i class="icon-eye-open">&nbsp;&nbsp;&nbsp;&nbsp;</i></span>
	    <span class="project-private hide"><i class="icon-lock"></i>&nbsp;&nbsp;&nbsp;&nbsp;</span>
	    <span class="project-project_title" contenteditable="true"></span>
	  </h4>


	  <!-- Description of the project (editable) -->
	  <div class="project-project_description" contenteditable="true">
	  </div>
	  <!-- The current branch: TODO -- make a selector when I get bootstrap docs -->
	</div>
      </div>
    </div>
    <div class="row">
      <div class="span12 well">

	<!-- Tabs -- place where you click on them -->
	<ul class="nav nav-tabs project-pages">
	  <!-- Browse through files in the project -->
	  <li class="active super-menu"><a href="#project-file-listing">Browser</a></li>

	  <!-- Open files -->
	  <li class="super-menu"><a href="#project-editor">Editor (<span class="project-editor-file-count">0</span>)</a></li>

	  <!-- Use an interactive console in the project -->
	  <li class="super-menu"><a href="#project-consoles">Console</a></li>

	  <!-- Chat about this project -->
	  <li class="super-menu"><a href="#project-chats">Chat</a></li>

	  <!-- Publications -->
	  <li class="super-menu"><a href="#project-pubs">Publish</a></li>

	  <!-- Git revision log of this project -->
	  <li class="super-menu"><a href="#project-commits">Commits</a></li>

	  <!-- Git branches -->
	  <li class="super-menu"><a href="#project-branches">Branches (<span class="bold project-branch"></span>)</a></li>

	  <!-- Git forks -->
	  <li class="super-menu"><a href="#project-forks">Forks</a></li>

	  <!-- Settings specific to this project -->
	  <li class="super-menu"><a href="#project-settings">Settings</a></li>
	</ul>

	<!-- The actual screens that get revealed by each tab: -->

	<!-- List of all files in the project, which is browsable -->
	<div class="project-file-listing">
	  <div class="row">
	  <div class="span2 pull-right">
	    <label for="project-commits-branch">
	      <select name="project-commits-branch" class="project-commits-branch"></select>
	      <div class="lighten">(shown branch)</div>
	    </label>
	  </div>

	    <div class="project-file-tools pull-right btn-group">
	      <a href="#edit" class="btn btn-success  btn-small">Edit</a>
	      <a href="#move" class="btn btn-warning btn-small">Move</a>
	      <a href="#delete" class="btn btn-danger btn-small">Delete</a>
	    </div>

	    <!-- current path -->
	    <span class="project-file-listing-current_path"></span>

	    <br>

	    <!-- command line prompt -->
	    <form class="project-command-line">
	      <span class="project-command-line">
		<input class="project-command-line-input" type="text"
		       placeholder="run bash command here...">
		<div class="project-command-line-spinner hide"></div>
		<pre class="project-command-line-stderr hide"></pre>
		<pre class="project-command-line-stdout hide"></pre>
	      </span>
	    </form>

	  </div>

	  <div class="row">
	    <div class="project-file-listing-spinner hide"></div>
	    <div class="project-file-listing-file-list"></div>
	  </div>
	</div>

	<!-- Open files in this project. -->
	<div class="project-editor hide">
	</div>

	<!-- Consoles on this project (multiple tabs, of course) -->
	<div class="project-consoles hide">
	  <div class="pull-right">
	    <span class="lighten">new session:&nbsp; </span>
	    <span class="btn-group">
	      <a href="#" class="btn btn-small btn-success">Bash</a>
	      <a href="#" class="btn btn-small">Sage</a>
	      <a href="#" class="btn btn-small">GAP</a>
	      <a href="#" class="btn btn-small">Pari</a>
	      <a href="#" class="btn btn-small">Maxima</a>
	      <a href="#" class="btn btn-small">Octave</a>
	      <a href="#" class="btn btn-small">R</a>
	      <a href="#" class="btn btn-small">Singular</a>
	    </span>

	  </div>
	  <br><br>
	  tabbed list of xterm sessions
	</div>

	<!-- Chatroom/logs for this project -->
	<div class="project-chats hide">
	  Chat sessions here
	</div>

	<!-- Publications of this project -->
	<div class="project-pubs hide">
	  A publication is a specific state of the project, as defined
	  by a commit in some branch, a choice of file as the "home
	  page", and a user-specified name.  There is a url associated
	  to the publication (https://salv.us/userid/name), a way to
	  browse user publications, etc.  When a visitor requests the
	  publication, a copy of the project (at the given state) is
	  opened on some project server, and visitor can interact with
	  the home page.  This can enable browsing in the project,
	  e.g., through the sections of a book.  The pages for pubs
	  will displays statistics (like google analytics?) about
	  visitors to the pub.  It will also allow for requiring
	  login, a secret word, etc.  It will also allow for data
	  collection, e.g., one type of pub can be a homework
	  assignment for students in a course. 
	</div>

	<!-- Git history log for this project -->
	<div class="project-commits hide">
	  <div class="project-commits-list"></div>
	</div>

	<!-- Git branches -->
	<div class="project-branches hide">
	  <form>
	    <input type="text">
	  </form>
	  <div class="project-branches-list"></div>
	</div>

	<!-- Git forks -->
	<div class="project-forks hide">
	  Known forks of this project listed here.
	</div>

	<!-- Page to configure the settings for this project -->
	<div class="project-settings hide">  <!-- hidden by default -->

	  <ul>
	    <li> Which tabs ("Browser, Console, editor, etc.") are
	    displayed and in what order.</li>
	    <li> Line numbers. Editor autosave. Editor autocommit.  Inherit from global. </li>
	    <li> Which console session buttons to list -- could depend a lot on particular project.</li>
	    <li> Whether project is public or private </li>
	    <li> Collaborators </li>
	    <li> Compute resource limitations </li>
	  </ul>

	</div>

      </div>
    </div>

    <div class="row hide" id="project-test-html"><br><br><br><br>
      TESTS:
      <div class="btn project-new-file">New File</div>
      <div class="btn project-save">Save Project</div>
      <div class="btn project-close">Close Project</div>
      <div class="btn project-meta">Reload</div>
      <br><br>
    </div>

  </div>

  <div class="row span11 well well-small project-commit-single">
    <div class="span7">
      <div class="row">
	<div class="project-commit-single-message"></div>
      </div>
      <div class="row">
	<span class="project-commit-single-author"></span>
	&nbsp;&nbsp;<span class="project-commit-single-date lighten"></span>
      </div>
    </div>
    <div class="span1">
      <div class="project-commit-single-sha"></div>
    </div>
  </div>

  <div class="row span11 well well-small project-branch-single">
    <div class="row">
      <div class="span6 project-branch-single-name"></div>
      <div class="pull-right">
	<div class="btn-group">
	  <a href="#checkout" class="btn btn-primary">Checkout</a>
  	  <!-- <a href="#compare" class="btn btn-info">Compare</a>-->
	  <a href="#merge" class="btn btn-warning">Merge</a>
	  <a href="#delete" class="btn btn-danger">Delete</a>
	</div>
      </div>
    </div>
  </div>

  <div class="row span11 well well-small project-file-link">
    <div class="span" style="width: 20px;">
      <i class="icon-file">&nbsp;&nbsp;&nbsp;&nbsp;</i>
    </div>
    <div class="span" style="width:100px;">
      <a class="project-file-name"></a>
    </div>
    <div class="span project-file-last-edited lighten" style="width:140px;">
    </div>
    <div class="span5">
      <a class="project-file-last-commit-message lighten"></a>
    </div>
  </div>

  <div class="row span11 well well-small project-directory-link">
    <div class="span" style="width: 20px;">
      <i class="icon-folder-close">&nbsp;&nbsp;&nbsp;&nbsp;</i>
    </div>
    <div class="span2">
      <a class="project-directory-name"></a>
    </div>
  </div>

  <span class="project-home-icon">
    <i class="icon-home"> </i>
  </span>

  <a class="project-new-file-link" rel="tooltip" title="Create a new file here">
    <span class="project-new-file-icon">
      <i class="icon-plus"> </i>
    </span>
  </a>

  <span class="project-segment-sep lighten">
    &nbsp; / &nbsp;
  </span>


</span>

<span class="hide">

  <div class="row span9 well well-small  project-file" id="project-file-template">
    <b><a href="">worksheet.sws</a></b>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="lighten"></span>
  </div>

</span>
