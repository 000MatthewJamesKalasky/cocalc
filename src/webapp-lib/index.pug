//- main landing page

extends template.pug


block header
  - var recent_times = htmlWebpackPlugin.options.SCHEMA.RECENT_TIMES
  - var stat_times_keys = htmlWebpackPlugin.options.SCHEMA.RECENT_TIMES_KEY
  - var stat_times = JSON.stringify([stat_times_keys.last_hour, stat_times_keys.last_day, stat_times_keys.last_week, stat_times_keys.last_month])
  script(type="text/javascript").
    window.stat_times = !{stat_times};
  script(type="text/javascript")
    include:coffee-script index.coffee

block content
  - var free_quotas = htmlWebpackPlugin.options.SCHEMA.DEFAULT_QUOTAS
  - var free_memory_gb = (free_quotas['memory'] / 1000).toFixed(1)
  - var free_disk_gb = (free_quotas['disk_quota'] / 1000).toFixed(1)

  nav.navbar.navbar-default.navbar-fixed-top
    div.container
      div.navbar-header
        a(href="#top")
          img.icon(alt="#{htmlWebpackPlugin.options.title}" src=require('!url?mimetype=image/svg+xml!cocalc-icon.svg'))
          img.name(alt="#{htmlWebpackPlugin.options.title}" src=require('!url?mimetype=image/svg+xml!cocalc-font-dark.svg'))
      div.collapse.navbar-collapse
        ul.nav.navbar-nav.navbar-right
          li #[a(href="#explore") Explore]
          li #[a(href="policies/pricing.html") Pricing]
          li #[a.active(href="app") Get Started]

  div.container.main#top
    div.row.intro
      div.col-sm-4.col-sm-offset-4.center
        a(href="app")
          img(src=require('!url?mimetype=image/svg+xml!cocalc-logo.svg'))
      div.col-sm-12.center.descr.
        #{htmlWebpackPlugin.options.description}
      div.col-sm-12.center
        a.btn.btn-success.btn-lg(href="app").
          Start #{htmlWebpackPlugin.options.title} For Free
    div.row
      div.col-sm-6
        img(src=require('!file!sagepreview/01-worksheet.png'))
      div.col-sm-6
        h1.
          Powerful Online
        div.
          #{htmlWebpackPlugin.options.title} is a ...
        div.
          You start working in free and private projects.
          Each project starts with a maximum of #{free_memory_gb} GB memory and
          #{free_disk_gb} GB of disk space.
        div.
          #[a(href="app") Start #{htmlWebpackPlugin.options.title} For Free]

    div.row#explore
      div.col-md-12.center
        h1 Explore #{htmlWebpackPlugin.options.title}
      div.col-md-3.col-sm-6
        h3 #[i.fa.fa-archive] Projects
        div.
          Your work on #{htmlWebpackPlugin.options.title} happens inside #[strong private projects].
          They form your personal workspaces containing your files, computational worksheets, and data.
          You run your computations through the web-interface, either via interactive worksheets, notebooks, or by executing a program in a terminal.
      div.col-md-3.col-sm-6
        h3 #[i.fa.fa-users] Collaboration
        div.
          You can invite collaborators to work with you inside a project.
          Like you, they can edit the files in that project.
          Edits are visible in #[strong real-time] for everyone online.
          You can share your thoughts in a #[strong side-chat] next to each document.
      div.clearfix.visible-sm-block
      div.col-md-3.col-sm-6
        h3 #[i.fa.fa-graduation-cap] Teaching
        div.
          #{htmlWebpackPlugin.options.title} offers sophisticated tools for teaching.
          Start by creating a #[strong course], add your students, create assignments and distribute them to all students.
          While students work on it you can assist them by jumping right into their files where they're working.
          Later, collect, grade and re-distribute the files.
      div.col-md-3.col-sm-6
        h3 #[i.fa.fa-file-text-o] Authoring
        div.
          Write scientific documents online in a #[strong LaTeX editor].
          It offers a full LaTeX setup, has a side-by-side preview with forward and inverse search,
          and also supports advanced features like
          #[a(href="http://doc.sagemath.org/html/en/tutorial/sagetex.html" target="_blank") SageTeX] and
          #[a(href="https://yihui.name/knitr/" target="_blank") R's Knitr].

    div.row
      div.col-md-6.col-md-offset-6
        blockquote.blockquote-reverse
          p.
            SageMathCloud provides a user-friendly interface.
            Students don’t need to install any software at all.
            They just open up a web browser and go to cloud.sagemath.com and that’s it.
            They just type code directly in, hit shift+enter and it runs, and they can see if it works.
            It provides immediate feedback.
            The #[a(href="https://github.com/mikecroucher/SMC_tutorial/blob/master/README.md" target="_blank") course management features] work really well.
          footer.
            Will Conley &mdash; #[cite Math professor, University of California at Los Angeles]

    div.row
      div.col-md-6#included
        h2 #[i.fa.fa-battery-three-quarters] Batteries Included
        include _static_third_party_software.html
      div.col-md-6#stats
        h2 #[i.fa.fa-line-chart] Statistics
        div.
          There are currently #[strong #[span#sum_clients ?] users] connected to #{htmlWebpackPlugin.options.title}.
        div
          table.table.bordered.condensed.hover.cc-help-stats-table#statstable
            thead
              tr
                th past
                th hour
                th day
                th week
                th month
            tbody
              tr
                td.left(colspan="4") Loading ...
              tr
              tr

    //- include _static_about.html
    include _static_footer.html
    div.center(style="margin-bottom: 6rem;")
      a(href="app")
        img(src=require('!url?mimetype=image/svg+xml!cocalc-font-dark.svg') style="height: 3rem; width: auto;")

  //- CSS comes at the bottom: overwrites styles defined in the header
  style
    :sass
      @import "smc-webapp/_colors.sass"
      div#top
        >.intro
          margin         : 10rem 0 5rem 0
        .descr
          color          : $COL_GRAY
          font-size      : 2rem
        >div.row>div
          margin-bottom  : 2rem
      nav.navbar.navbar-default
        border-bottom    : 2px solid $COL_GRAY
        background-color : $COL_GRAY_LL
        .navbar-header
          margin-top     : 5px;
          img.icon
            height       : 4rem
            width        : auto
            margin-right : 2rem
          img.name
            height       : 3rem
            width        : auto
            margin-right : 2rem
        .navbar-nav>li>a
          font-size      : 2rem
      #statstable td,
      #statstable th
        text-align     : right
      div
        &.main
          margin       : 0 auto
          min-height   : 66vh
        img
          width        : 100%
          height       : auto
        &.row
          margin-top   : 6rem
          > div > h2
            margin-bottom : 3rem
      .center
        text-align     : center
      .right
        text-align     : right
      .left,
      #statstable td.left
        text-align     : left
      #explore > div > h3
        white-space    : nowrap
      #included > div
        padding        : 0
      footer
        margin-top     : 6rem
